<li
  class="rounded-2xl bg-white border border-gray-100 shadow-sm hover:shadow-md transition p-5 space-y-4"
>
  <!-- Top Section: Task + Actions -->
  <div class="flex items-start justify-between gap-4">
    <!-- Task Info -->
    <div class="flex-1">
      <h4
        class="text-lg font-semibold text-gray-800"
        [class.line-through]="task.status === 'completed'"
        [class.text-gray-400]="task.status === 'completed'"
      >
        {{ task.title }}
      </h4>

      <p class="mt-1 text-sm text-gray-600">
        {{ task.description || 'No description provided.' }}
      </p>

      <!-- Badges -->
      <div class="flex items-center gap-2 mt-3">
        <!-- Priority -->
        <span
          class="text-xs font-medium px-3 py-1 rounded-full"
          [class.bg-red-100]="task.priority === 'high'"
          [class.text-red-600]="task.priority === 'high'"
          [class.bg-yellow-100]="task.priority === 'medium'"
          [class.text-yellow-700]="task.priority === 'medium'"
          [class.bg-green-100]="task.priority === 'low'"
          [class.text-green-700]="task.priority === 'low'"
        >
          {{ task.priority }} Priority
        </span>

        <!-- Status -->
        <span
          class="text-xs font-medium px-3 py-1 rounded-full"
          [class.bg-indigo-100]="task.status === 'active'"
          [class.text-indigo-700]="task.status === 'active'"
          [class.bg-gray-200]="task.status === 'completed'"
          [class.text-gray-600]="task.status === 'completed'"
        >
          {{ task.status }}
        </span>
      </div>
    </div>

    <!-- Actions -->
    <div class="flex flex-col gap-2 shrink-0">
      <button
        class="px-3 py-1 text-sm rounded-lg border border-indigo-200 text-indigo-600 hover:bg-indigo-50 transition"
        (click)="edit.emit()"
      >
        âœï¸ Edit
      </button>

      <button
        class="px-3 py-1 text-sm rounded-lg border border-red-200 text-red-500 hover:bg-red-50 transition"
        (click)="delete.emit()"
      >
        ğŸ—‘ï¸ Delete
      </button>
    </div>
  </div>

  <!-- Divider -->
  <div class="border-t pt-4">
    <!-- Comments Section -->
    <app-task-comments-component [taskId]="task.id!"></app-task-comments-component>
  </div>
</li>
